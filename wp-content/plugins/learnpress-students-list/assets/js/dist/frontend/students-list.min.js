(()=>{const e="lp-target",t=lpData.lp_rest_url+"lp/v1/load_content_via_ajax/";document.addEventListener("click",(e=>{const t=e.target;t.classList.contains("students-list-btn-load-more")&&(e.preventDefault(),s(t))})),document.addEventListener("change",(e=>{const t=e.target;"students-list-filter-select"===t.id&&a(t)}));const s=s=>{const a=s.closest(`.${e}`),n=s.querySelector(".lp-loading-no-css"),l={...JSON.parse(a.dataset.send)},o=a.querySelector(".lp-students-list-wrapper");l.args.hasOwnProperty("paged")||(l.args.paged=1),l.args.paged++,a.dataset.send=JSON.stringify(l),n&&n.classList.remove("hide");const c={success:e=>{const{status:t,message:a,data:n}=e,{total_pages:l,paged:c}=n,d=document.createElement("div");d.innerHTML=n.content;const r=d.querySelectorAll(".lp-student-enrolled");r.length&&r.forEach((e=>{o.insertAdjacentElement("beforeend",e)})),c>=l&&s.remove()},error:e=>{console.log(e)},completed:()=>{n&&n.classList.add("hide"),s.classList.remove("disabled")}};window.lpAJAXG.fetchAPI(t,l,c)},a=s=>{const a=s.closest(`.${e}`),n={...JSON.parse(a.dataset.send)},l=a.closest(".lp-load-ajax-element").querySelector(".lp-loading-change");l&&(l.style.display="block"),n.args.paged=1,n.args.status=s.value,a.dataset.send=JSON.stringify(n);const o={success:e=>{const{status:t,message:s,data:n}=e;a.innerHTML=n.content},error:e=>{console.log(e)},completed:()=>{l&&(l.style.display="none")}};window.lpAJAXG.fetchAPI(t,n,o)}})();